@{
    Layout = "_Layout";
}

@**@

<div ng-controller="TicketsController as tickets">
    <form class="container" ng-submit="tickets.CheckInputData() && tickets.SearchCheapestTicket()" name="formSearchCheapestTicket">
        <div>
            <angucomplete-alt id="originPlace"
                              placeholder="Откуда"
                              pause="300"
                              minlength="1"
                              selected-object="tickets.originPlace"
                              remote-api-handler="tickets.CustomSearch"
                              title-field="PlaceName"
                              input-class="form-control form-control-small"
                              match-class="highlight"
                              input-name="originPlace"
                              field-required="true"
                              text-searching="Поиск..."
                              text-no-results="Нет совпадений">
            </angucomplete-alt>

            <div ng-messages="formSearchCheapestTicket.originPlace.$error">
                <span class="postFormErrorMessage" ng-message="autocomplete-required">
                    field is required
                </span>
            </div>
        </div>


        <div>
            <angucomplete-alt id="destinationPlace"
                              name="destinationPlace"
                              placeholder="Куда"
                              pause="300"
                              minlength="1"
                              selected-object="tickets.destinationPlace"
                              remote-api-handler="tickets.CustomSearch"
                              title-field="PlaceName"
                              input-class="form-control form-control-small"
                              match-class="highlight"
                              input-name="destinationPlace"
                              field-required="true"
                              text-searching="Поиск..."
                              text-no-results="Нет совпадений">
            </angucomplete-alt>
            <div ng-messages="formSearchCheapestTicket.destinationPlace.$error">
                <span class="postFormErrorMessage" ng-message="autocomplete-required">
                    field is required
                </span>
            </div>
        </div>

        <div>
            <input class="form-control form-control-small" type="text" name="outboundDate" pick-a-date="date" placeholder="Когда"
                   pick-a-date-options="{ format: 'yyyy-mm-dd' }" ng-model='tickets.outboundDate' required />
            <div ng-messages="formSearchCheapestTicket.outboundDate.$error">
                <div class="postFormErrorMessage" ng-message="required">field is required</div>
            </div>
        </div>

        <div>
            <input class="form-control form-control-small" type="text" name="inboundDate" pick-a-date="date" placeholder="Обратно"
                   pick-a-date-options="{ format: 'yyyy-mm-dd' }" ng-model='tickets.inboundDate' required />
            <div ng-messages="formSearchCheapestTicket.inboundDate.$error">
                <div class="postFormErrorMessage" ng-message="required">field is required</div>
            </div>
        </div>

        <div>
            <input class="btn btn-primary" type="submit" value="Search" />
        </div>
    </form>

    @Html.Partial("~/views/home/ticket.cshtml")
</div>


